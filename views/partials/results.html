<main class="index-page-content-container">
    <p class="post-location"><a href="#/">Home</a> &raquo; {{vm.currentQuery}} </p>
    <div class="post-results">
        <h2 class="no-results-msg" ng-show="vm.noresults">Sorry! <br/> There are no results for "{{vm.currentQuery}}"!</h2>
        <div class="post" ng-repeat="post in vm.postsResult" ng-class="{doubleCol: $index==2}">
            <div class="post-home-image">
                <img class="post-image" src="{{post.picture}}" alt="picture">
            </div>
            <div class="post-image-content">
                <p class="post-category">
                    {{post.category}}
                </p>
                <p class="post-date">
                    {{ post.createdOn | monthFilter }}
                </p>
                <p class="post-date">
                    {{ post.createdOn | dayFilter }}
                </p>
            </div>
            <a href="#/posts/{{post._id}}">
                <p class="post-title">
                    {{post.title}}
                </p>
            </a>
            <p class="post-author">
                posted by {{post.authorName}}
            </p>
            <hr class="post-separator" />
            <p class="post-summary">
                {{post.text}} 
                <!-- This may also be filtered -->
            </p>
            <div class="post-bottom">
            </div>
        </div>

    </div>
    <aside class="post-sedebar">
        <div class="aside-nav-wrapper">
            <div class="aside-bullets">
                <h4>recent comments</h4>
                <hr class="post-full-separator" />
                <ul class="aside-list">
                    <li ng-repeat="post in vm.commented"><a href="#/posts/{{post._id}}">&raquo; {{post.title}}</a></li>
                </ul>
                <div class="aside-bottom"></div>
            </div>
            <div class="aside-bullets">
                <h4>recent posts</h4>
                <hr class="post-full-separator" />
                <ul class="aside-list">
                    <li ng-repeat="post in vm.posted"><a href="#/posts/{{post._id}}">&raquo; {{post.title}}</a></li>
                </ul>
                <div class="aside-bottom"></div>
            </div>
        </div>
    </aside>
    <div class="pagination-container" ng-show="vm.showPagination">
        <p class="pagination_go_left"><a href="#/results/{{vm.currentQuery}}?page={{vm.previousPage}}">&laquo;</a></p>
        <p class="pagination">
            <span ng-repeat="page in vm.pages">
                <a href="#/results/{{page.query}}?page={{page.num}}" class="{{page.selected}}">{{page.num}}</a>
            </span>
        </p>
        <p class="pagination_go_right"><a href="#/results/{{vm.currentQuery}}?page={{vm.nextPage}}">&raquo;</a></p>
    </div>
</main>
